@{
    ViewData["Title"] = "لوحة التحكم الإدارية";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="dashboard-page">
    <!-- Dashboard Header -->
    <div class="dashboard-header mb-4">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h1 class="h3 mb-0 fw-bold">لوحة التحكم الإدارية</h1>
                <p class="text-muted mb-0">مرحباً بك في نظام إدارة العيادة</p>
            </div>
            <div class="col-md-6 text-end">
                <span class="badge bg-success fs-6">
                    <i class="fas fa-circle me-1"></i>متصل
                </span>
            </div>
        </div>
    </div>

    <!-- Statistics Cards -->
    <div class="row g-4 mb-5">
        <div class="col-xl-3 col-md-6">
            <div class="stats-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center">
                        <div class="stats-icon bg-primary bg-gradient rounded-3 p-3 me-3">
                            <i class="fas fa-user-md fa-2x text-white"></i>
                        </div>
                        <div>
                            <h3 class="h2 fw-bold mb-0 text-primary">@ViewBag.TotalDoctorRequests</h3>
                            <p class="text-muted mb-0">إجمالي طلبات الأطباء</p>
                        </div>
                    </div>
                    @* <div class="mt-3"> *@
                    @*     <small class="text-success"> *@
                    @*         <i class="fas fa-arrow-up me-1"></i>+12% من الشهر الماضي *@
                    @*     </small> *@
                    @* </div> *@
                </div>
            </div>
        </div>
        
        <div class="col-xl-3 col-md-6">
            <div class="stats-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center">
                        <div class="stats-icon bg-warning bg-gradient rounded-3 p-3 me-3">
                            <i class="fas fa-clock fa-2x text-white"></i>
                        </div>
                        <div>
                            <h3 class="h2 fw-bold mb-0 text-warning">@ViewBag.PendingRequests</h3>
                            <p class="text-muted mb-0">طلبات قيد المراجعة</p>
                        </div>
                    </div>
                    <div class="mt-3">
                        <small class="text-info">
                            <i class="fas fa-info-circle me-1"></i>تحتاج مراجعة
                        </small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-xl-3 col-md-6">
            <div class="stats-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center">
                        <div class="stats-icon bg-success bg-gradient rounded-3 p-3 me-3">
                            <i class="fas fa-check-circle fa-2x text-white"></i>
                        </div>
                        <div>
                            <h3 class="h2 fw-bold mb-0 text-success">@ViewBag.ApprovedRequests</h3>
                            <p class="text-muted mb-0">أطباء معتمدون</p>
                        </div>
                    </div>
                    @* <div class="mt-3"> *@
                    @*     <small class="text-success"> *@
                    @*         <i class="fas fa-arrow-up me-1"></i>+8% من الشهر الماضي *@
                    @*     </small> *@
                    @* </div> *@
                </div>
            </div>
        </div>
        
        <div class="col-xl-3 col-md-6">
            <div class="stats-card card border-0 shadow-sm h-100">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center">
                        <div class="stats-icon bg-info bg-gradient rounded-3 p-3 me-3">
                            <i class="fas fa-stethoscope fa-2x text-white"></i>
                        </div>
                        <div>
                            <h3 class="h2 fw-bold mb-0 text-info">@ViewBag.TotalSpecialties</h3>
                            <p class="text-muted mb-0">التخصصات المتاحة</p>
                        </div>
                    </div>
                    <div class="mt-3">
                        <small class="text-muted">
                            <i class="fas fa-equals me-1"></i>مستقر
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="row g-4 mb-5">
        <div class="col-lg-8">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-transparent border-0 p-4">
                    <h5 class="card-title fw-bold mb-0">
                        <i class="fas fa-bolt me-2 text-primary"></i>إجراءات سريعة
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <a asp-action="DoctorRequests" class="quick-action-card d-block text-decoration-none">
                                <div class="p-3 border rounded-3 h-100 text-center">
                                    <i class="fas fa-user-plus fa-3x text-primary mb-3"></i>
                                    <h6 class="fw-bold">مراجعة طلبات الأطباء</h6>
                                    <p class="text-muted small mb-0">عرض وإدارة طلبات انضمام الأطباء</p>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a asp-action="Specialties" class="quick-action-card d-block text-decoration-none">
                                <div class="p-3 border rounded-3 h-100 text-center">
                                    <i class="fas fa-medical-kit fa-3x text-success mb-3"></i>
                                    <h6 class="fw-bold">إدارة التخصصات</h6>
                                    <p class="text-muted small mb-0">إضافة وتعديل التخصصات الطبية</p>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a asp-action="Consultations" class="quick-action-card d-block text-decoration-none">
                                <div class="p-3 border rounded-3 h-100 text-center">
                                    <i class="fas fa-calendar-alt fa-3x text-info mb-3"></i>
                                    <h6 class="fw-bold">إدارة الاستشارات</h6>
                                    <p class="text-muted small mb-0">عرض ومتابعة الاستشارات المحجوزة</p>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a asp-action="Partnerships" class="quick-action-card d-block text-decoration-none">
                                <div class="p-3 border rounded-3 h-100 text-center">
                                    <i class="fas fa-handshake fa-3x text-warning mb-3"></i>
                                    <h6 class="fw-bold">إدارة الشراكات</h6>
                                    <p class="text-muted small mb-0">مراجعة طلبات الشراكة الجديدة</p>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a asp-action="Invoices" class="quick-action-card d-block text-decoration-none">
                                <div class="p-3 border rounded-3 h-100 text-center">
                                    <i class="fas fa-file-invoice-dollar fa-3x text-danger mb-3"></i>
                                    <h6 class="fw-bold">إدارة الفواتير</h6>
                                    <p class="text-muted small mb-0">إنشاء وإرسال فواتير الاستشارات</p>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a asp-action="DoctorDetails" asp-route-id="1" class="quick-action-card d-block text-decoration-none">
                                <div class="p-3 border rounded-3 h-100 text-center">
                                    <i class="fas fa-user-tie fa-3x text-secondary mb-3"></i>
                                    <h6 class="fw-bold">تفاصيل الأطباء</h6>
                                    <p class="text-muted small mb-0">عرض تفاصيل الأطباء المسجلين</p>
                                </div>
                            </a>
                        </div>
                        @* <div class="col-md-6"> *@
                        @*     <a asp-action="PatientDetails" asp-route-id="1" class="quick-action-card d-block text-decoration-none"> *@
                        @*         <div class="p-3 border rounded-3 h-100 text-center"> *@
                        @*             <i class="fas fa-user-injured fa-3x text-dark mb-3"></i> *@
                        @*             <h6 class="fw-bold">تفاصيل المرضى</h6> *@
                        @*             <p class="text-muted small mb-0">عرض تفاصيل المرضى والاستشارات</p> *@
                        @*         </div> *@
                        @*     </a> *@
                        @* </div> *@
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-transparent border-0 p-4">
                    <h5 class="card-title fw-bold mb-0">
                        <i class="fas fa-chart-line me-2 text-success"></i>إحصائيات سريعة
                    </h5>
                </div>
                <div class="card-body p-4">
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="text-muted">إجمالي الاستشارات</span>
                            <span class="fw-bold text-primary">@ViewBag.TotalConsultations</span>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-primary" style="width: @(ViewBag.TotalConsultations > 0 ? (ViewBag.PaidConsultations * 100 / ViewBag.TotalConsultations) : 0)%"></div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="text-muted">الاستشارات المدفوعة</span>
                            <span class="fw-bold text-success">@ViewBag.PaidConsultations</span>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-success" style="width: @(ViewBag.TotalConsultations > 0 ? (ViewBag.PaidConsultations * 100 / ViewBag.TotalConsultations) : 0)%"></div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="text-muted">إجمالي طلبات الشراكة</span>
                            <span class="fw-bold text-warning">@ViewBag.TotalPartnerships</span>
                        </div>
                        <div class="progress" style="height: 8px;">
                            <div class="progress-bar bg-warning" style="width: @(ViewBag.TotalPartnerships > 0 ? (ViewBag.PendingPartnerships * 100 / ViewBag.TotalPartnerships) : 0)%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activities -->
    <div class="row g-4">
        @* <div class="col-lg-8"> *@
            @* <div class="card border-0 shadow-sm"> *@
            @*     <div class="card-header bg-transparent border-0 p-4"> *@
            @*         <h5 class="card-title fw-bold mb-0"> *@
            @*             <i class="fas fa-history me-2 text-info"></i>الأنشطة الأخيرة *@
            @*         </h5> *@
            @*     </div> *@
                @* <div class="card-body p-0"> *@
                @*     <div class="activity-list"> *@
                @*         <div class="activity-item d-flex align-items-center p-4 border-bottom"> *@
                @*             <div class="activity-icon bg-primary bg-gradient rounded-circle p-2 me-3"> *@
                @*                 <i class="fas fa-user-plus text-white"></i> *@
                @*             </div> *@
                @*             <div class="flex-grow-1"> *@
                @*                 <h6 class="mb-1">طلب انضمام جديد</h6> *@
                @*                 <p class="text-muted small mb-0">Doctor Hub</p> *@
                @*             </div> *@
                @*         </div> *@
                        
                        @* <div class="activity-item d-flex align-items-center p-4 border-bottom"> *@
                        @*     <div class="activity-icon bg-success bg-gradient rounded-circle p-2 me-3"> *@
                        @*         <i class="fas fa-check text-white"></i> *@
                        @*     </div> *@
                        @*     <div class="flex-grow-1"> *@
                        @*         <h6 class="mb-1">تم قبول طبيب جديد</h6> *@
                        @*         <p class="text-muted small mb-0">د. فاطمة علي تم قبولها في تخصص التغذية العلاجية</p> *@
                        @*     </div> *@
                        @*     <small class="text-muted">منذ 4 ساعات</small> *@
                        @* </div> *@
                        
                        @* <div class="activity-item d-flex align-items-center p-4 border-bottom"> *@
                        @*     <div class="activity-icon bg-info bg-gradient rounded-circle p-2 me-3"> *@
                        @*         <i class="fas fa-calendar text-white"></i> *@
                        @*     </div> *@
                        @*     <div class="flex-grow-1"> *@
                        @*         <h6 class="mb-1">استشارة جديدة</h6> *@
                        @*         <p class="text-muted small mb-0">تم حجز استشارة في الطب النفسي</p> *@
                        @*     </div> *@
                        @*     <small class="text-muted">منذ 6 ساعات</small> *@
                        @* </div> *@
                        
                        @* <div class="activity-item d-flex align-items-center p-4"> *@
                        @*     <div class="activity-icon bg-warning bg-gradient rounded-circle p-2 me-3"> *@
                        @*         <i class="fas fa-edit text-white"></i> *@
                        @*     </div> *@
                        @*     <div class="flex-grow-1"> *@
                        @*         <h6 class="mb-1">تحديث التخصصات</h6> *@
                        @*         <p class="text-muted small mb-0">تم إضافة تخصص جديد: طب الأطفال</p> *@
                        @*     </div> *@
                        @*     <small class="text-muted">أمس</small> *@
                        @* </div> *@
                @*     </div> *@
                @* </div> *@
            @* </div> *@
        @* </div> *@
        
        @* <div class="col-lg-4"> *@
        @*     <div class="card border-0 shadow-sm"> *@
        @*         <div class="card-header bg-transparent border-0 p-4"> *@
        @*             <h5 class="card-title fw-bold mb-0"> *@
        @*                 <i class="fas fa-bell me-2 text-danger"></i>تنبيهات مهمة *@
        @*             </h5> *@
        @*         </div> *@
        @*         <div class="card-body p-4"> *@
        @*             <div class="alert alert-warning border-0 mb-3"> *@
        @*                 <div class="d-flex align-items-center"> *@
        @*                     <i class="fas fa-exclamation-triangle me-2"></i> *@
        @*                     <div> *@
        @*                         <h6 class="alert-heading mb-1">طلبات تحتاج مراجعة</h6> *@
        @*                         <p class="mb-0 small">لديك @ViewBag.PendingRequests طلبات انضمام تحتاج للمراجعة</p> *@
        @*                     </div> *@
        @*                 </div> *@
        @*             </div> *@
                    
                    @* <div class="alert alert-info border-0 mb-3"> *@
                    @*     <div class="d-flex align-items-center"> *@
                    @*         <i class="fas fa-info-circle me-2"></i> *@
                    @*         <div> *@
                    @*             <h6 class="alert-heading mb-1">تحديث النظام</h6> *@
                    @*             <p class="mb-0 small">يتوفر تحديث جديد للنظام</p> *@
                    @*         </div> *@
                    @*     </div> *@
                    @* </div> *@
                    
                    @* <div class="alert alert-success border-0"> *@
                    @*     <div class="d-flex align-items-center"> *@
                    @*         <i class="fas fa-check-circle me-2"></i> *@
                    @*         <div> *@
                    @*             <h6 class="alert-heading mb-1">النسخ الاحتياطي</h6> *@
                    @*             <p class="mb-0 small">تم إنشاء نسخة احتياطية بنجاح</p> *@
                    @*         </div> *@
                    @*     </div> *@
                    @* </div> *@
        @*         </div> *@
        @*     </div> *@
        @* </div> *@
    </div>
</div>

<style>
    .stats-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .stats-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
    }
    
    .stats-icon {
        transition: transform 0.3s ease;
    }
    
    .stats-card:hover .stats-icon {
        transform: scale(1.1);
    }
    
    .quick-action-card {
        transition: all 0.3s ease;
        color: inherit;
    }
    
    .quick-action-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        color: inherit;
    }
    
    .quick-action-card:hover i {
        transform: scale(1.1);
    }
    
    .activity-item {
        transition: background-color 0.3s ease;
    }
    
    .activity-item:hover {
        background-color: #f8f9fa;
    }
</style>


